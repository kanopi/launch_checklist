<?php

/**
 * @file
 * Uses best practices to check for pre-launch best practices.
 */

/**
 * Implements hook_checklistapi_checklist_info().
 *
 * @see _launch_checklist_preprocess_checklist_items()
 */
function launch_checklist_checklistapi_checklist_info(): array {
  $definitions = [];
  $definitions['launch_checklist'] = [
    '#title' => t('Launch checklist'),
    '#description' => t('Keep track of your pre-launch tasks.'),
    '#path' => '/admin/config/development/launch-checklist',
    '#callback' => 'launch_checklist_checklistapi_checklist_items',
    '#help' => t("<p>Check off each task as you complete it. Don't forget to click the <em>Save</em> button!</p>"),
  ];
  return $definitions;
}

/**
 * Implements callback_checklistapi_checklist_items() for launch_checklist.
 */
function launch_checklist_checklistapi_checklist_items(): array {
  /** @var \Drupal\Core\Render\RendererInterface $renderer */
  $renderer = \Drupal::service('renderer');

  $items = [
    'lists/01-general.inc',
    'lists/02-browser-checks.inc',
    'lists/03-forms.inc',
    'lists/04-seo.inc',
    'lists/05-user-permissions.inc',
    'lists/06-content.inc',
    'lists/07-privacy.inc',
    'lists/08-performance.inc',
    'lists/09-security.inc',
    'lists/10-database.inc',
    'lists/11-theme.inc',
    'lists/12-a11y.inc',
    'lists/13-modules.inc',
    'lists/14-other.inc',
  ];

  return _launch_checklist_preprocess_checklist_items($items);
}
